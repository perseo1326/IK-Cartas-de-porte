<!DOCTYPE html><html lang=es><head><meta charset=UTF-8 /><meta http-equiv=X-UA-Compatible content="IE=edge" /><meta name=viewport content="width=device-width, initial-scale=1.0" /><meta name=autor content=https://github.com/perseo1326 /><title>PUP Cartas de Porte</title><link rel=preconnect href=https://fonts.googleapis.com /><link rel=preconnect href=https://fonts.gstatic.com crossorigin /><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700&display=swap" rel=stylesheet /><style>*,*:after,*:before{--background:white;--first-color:#0057a4;--second-color:#ffdb01;--warning-color:rgba(255,165,0,1);--doc-font:8px;padding:0;margin:0;font-family:'Roboto',sans-serif;font-size:16px;box-sizing:border-box}.warning{background-color:var(--warning-color)}body{background-color:var(--background)}.back1{background-color:#0ff}.back2{background-color:#ffa500}div.panel{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}div.panel div.frame{margin:auto;width:40%;background-color:#f5f5f5;border-radius:4px}div.panel div.frame div.frame-title h3{background-color:var(--first-color);color:var(--second-color);text-align:center;padding:.5rem;font-size:1.5rem;border-top-left-radius:4px;border-top-right-radius:4px}div.panel div.frame div.frame-content{padding:.5rem}div.panel div.frame div.frame-content div p span{text-decoration:underline;display:inline-block;margin-bottom:.3rem;color:var(--first-color)}body{padding:0 .4rem}div.container-column{display:flex;flex-direction:column}.container{display:flex}.no-visible{display:none}.show-print{display:none}.inline{display:inline-block}.margen-alto-05{margin-top:.5rem}.margen-izq-1{margin-left:1rem}.ancho-100{width:100%}.ancho-50{width:50%}.ancho-60{width:60%}.margen-bajo-05{margin-bottom:.5rem}.margen-bajo-1{margin-bottom:1rem}.centrar{text-align:center}h1{font-size:2rem}label{display:inline-block}div p.version{text-align:right;padding:.3rem 1rem;font-size:calc(2px + var(--doc-font));color:#808080}.custom-button{border:1px solid var(--first-color);border-radius:4px;background-color:var(--first-color);color:var(--second-color);cursor:pointer;font-size:1rem;margin:.3rem auto;padding:.3rem .6rem;text-align:center}.custom-button:hover{background-color:var(--second-color);color:var(--first-color);border:1px solid var(--first-color)}.disable{background-color:#d3d3d3;color:#000;cursor:not-allowed}.disable:hover{background-color:#d3d3d3;color:#ff4500}input[type="file"]{display:none}div.resume{border:2px solid var(--first-color)}div.resume p{padding:0 1rem .2rem 1rem}div.resume p span{color:var(--first-color);font-weight:bold}div.resume p:hover{background-color:#ffdb01}div.report-info{background-color:#ffdb01;margin-bottom:.5rem}strong{font-weight:bold}table{width:100%;border-collapse:collapse;border:2px solid var(--first-color);overflow:auto}thead tr th{padding:.1rem;border-bottom:2px solid var(--first-color)}thead tr.cabecera th.invert-colors{background-color:var(--second-color);color:var(--first-color)}thead tr th.ordinal{width:4rem}thead tr th.isell{width:20%}table tbody#data-body tr.warning-row{background-color:#ffa500 !important}table tbody#data-body tr td{border-bottom:1px solid #808080;min-width:5rem;max-height:1rem}table tbody#data-body tr td input[type='text']:focus{background-color:#ffdb01}table tbody#data-body tr td.container-column{border:1px solid #808080}table tbody#data-body tr:nth-last-of-type(2n+0){background-color:#d3d3d3}table tbody#data-body tr.centrar td p.pick-status.not-started{background-color:rgba(255,0,0,.5)}table tbody#data-body tr.centrar td p.pick-status.started,table tbody#data-body tr.centrar td p.pick-status.picking,table tbody#data-body tr.centrar td p.pick-status.picked{background-color:#ffa500}table tbody#data-body tr.centrar td p.pick-status.wait-for-merge{background-color:#ffa07a}table tbody#data-body tr.centrar td p.pick-status.check-started{background-color:#ff0}table tbody#data-body tr.centrar td p.pick-status.checked{background-color:#bfff00}table tbody#data-body tr.centrar td p.pick-status.completed{background-color:#90ee90}table tbody#data-body tr.centrar td p.pick-status.open-return,table tbody#data-body tr.centrar td p.pick-status.returned{background-color:transparent}table tbody#data-body tr:hover{background-color:var(--second-color)}.cabecera{background-color:var(--first-color);color:var(--second-color)}table tbody#data-body tr.totales{font-weight:bolder}table tbody#transport-document-info tr td.document-title{border-right:1px solid transparent}table tbody#transport-document-info tr td.page-number{font-size:var(--doc-font);text-align:right;padding:0 .5rem;vertical-align:top}table tbody#transport-document-info tr td h3{text-align:right}table tbody#transport-document-info tr td{font-size:calc(var(--doc-font) + 2px);padding:2px;border:1px solid #000}table tbody#transport-document-info tr td.value{text-align:center;font-size:small}table tbody#transport-document-info tr td p,table tbody#transport-document-info tr td p strong{font-size:var(--doc-font)}table tbody#transport-document-info tr td p.note{font-size:var(--doc-font);text-align:justify}table tbody#transport-document-info tr td.text-top-left{text-align:left;vertical-align:text-top}.blank-space{height:2.5rem}.blank-space-big{height:4rem}div#comments-container table{border:0}tbody#comments-table tr td textarea{border:2px solid var(--first-color);outline:0;text-align:justify;background-color:var(--second-color);padding:3px .3rem;width:100%}table tbody#footer-table tr td{font-size:calc(2px + var(--doc-font));padding:.2rem;border:1px solid #000}table tbody#footer-table tr td p{font-size:calc(4px + var(--doc-font))}div p.footer-page{font-size:var(--doc-font);font-style:italic;text-align:right}@media print{*,*:after,*:before{--background:transparent;--first-color:#000;--second-color:#000}body,html{background-color:transparent !important;color:#000 !important}.hide-print{display:none !important}.show-print{display:block}.cabecera{print-color-adjust:exact;-webkit-print-color-adjust:exact;background-color:#aaa7a7}table tbody#data-body tr td{background-color:transparent}table.print-hide-borders{border-top:0;border-bottom:0}p.version{print-color-adjust:exact;-webkit-print-color-adjust:exact}}</style></head><body class=page-a4><div class=container-column><div id=panel class=panel><div class=frame><div class=frame-title><h3>Fecha de envío</h3></div><div class=frame-content><div class=margen-bajo-05><p>Destino: <span id=frame-destination></span></p><label for="">Seleccionar fecha de envío:</label><div class=container><input type=date id=frame-shipping-date class="custom-button centrar" /></div></div><div class=container><input type=button id=frame-ok-b class=custom-button value=Continuar /><input type=button id=frame-cancel-b class=custom-button value=Cancelar /></div></div></div></div><div class="hide-print ancho-100 margen-bajo-1"><h1 class=centrar>Cartas de Porte Pick Up Points</h1></div><div class="hide-print margen-bajo-05 ancho-100"><div class=ancho-100><label for="">1. Seleccionar archivo de datos:</label><div class="ancho-100 margen-izq-1"> <label class=custom-button id=upload-file-b for=file-input>Subir archivo...</label><input type=file id=file-input /></div></div><div class=ancho-100><label for="">2. Fecha (CUT OFF DATE):</label><div class="ancho-100 margen-izq-1"><input type=date id=selected-date class="custom-button disable" disabled /></div></div><div class=container><div class="ancho-50 inline"><label for="">3. Seleccione el destino (CUT OFF TIME):</label><div class="ancho-100 margen-izq-1"><select id=destino-cut-off-time name=destinos class="custom-button disable" disabled><option value="">Selecciona una opción</option></select></div></div><div class="ancho-50 inline"><label for="">4. Seleccione el Service Window:</label><div class="ancho-100 margen-izq-1"><select id=service-window name="" class="custom-button disable" disabled><option value="">Selecciona una opción</option></select></div></div></div><div class="ancho-50 inline"><label for="">5. Analizar información</label><div class="ancho-100 margen-izq-1"><input type=button id=process-data class="custom-button disable" value="Procesar información" disabled /></div></div><div class="ancho-50 inline"><label for="">6. Imprimir Documentación</label><div class="ancho-100 margen-izq-1"><input type=button id=print-documentation-b class="custom-button disable" value="Imprimir documentación" disabled /></div></div></div><div id=cabecero class=show-print><table><tbody id=transport-document-info><tr><td class="ancho-50 document-title"><h3>Carta de Porte / Transport Document</h3></td><td class=page-number colspan=2>Página 1 de 1<br />Page 1 of 1</td></tr><tr><td>No. Carta de porte / Transport document number</td><td>Fecha de carga / Date of loading</td><td>Fecha de entrega / Date of receipt</td></tr><tr><td id=transport-document-number class=value></td><td id=transport-document-loading-date class=value></td><td id=transport-document-receipt-date class=value></td></tr><tr><td>Remitente / Sender</td><td colspan=2>No. de precinto</td></tr><tr><td id=sender-address></td></tr><tr><td>Destinario / Consignee</td><td colspan=2>Transportista / Carrier</td></tr><tr><td id=consignee-address></td><td id=carrier-address colspan=2></td></tr><tr><td>Número de albarán / Invoice number</td><td colspan=2>Matrícula Vehículo / Trailer registration</td></tr><tr><td class=blank-space></td><td class=blank-space colspan=2></td></tr><tr><td><p class=note>El conductor, mediante su firma declara que durante las operaciones de carga se ha seguido una relación de comprobaciones relativa a la carga de las mercancías peligrosas, habiendo iniciado el transporte cumpliendo con todos los requisitos exigibles por el ADR.</p><p class=note>The driver, by signing states that during the loading a dangerous goods check-list has been completed, initiating transport in compliance with all applicable requirements of the ADR.</p></td><td class=text-top-left colspan=2>Firma del conductor / Driver's signature</td></tr></tbody></table></div><div id=resume class="resume no-visible hide-print"><p>Fecha (CUT OFF DATE): <span id=resume-cut-off-date></span></p><p>Destino (CUT OFF TIME): <span id=resume-cut-off-time></span></p><p>Service Window: <span id=resume-service-window></span></p></div><div><table class=print-hide-borders><thead><tr class=cabecera><th class="centrar ordinal" rowspan=2>No.</th><th class=isell rowspan=2>Isell</th><th class=hide-print colspan=3>Pick Area</th><th rowspan=2>No. Paquetes</th><th rowspan=2>Peso (Kg)</th><th rowspan=2>Volumen (m<sup>3</sup>)</th></tr><tr class="cabecera hide-print"><th class=invert-colors>Markethall</th><th class=invert-colors>Self Serve</th><th class=invert-colors>Full Serve</th></tr></thead><tbody id=data-body></tbody></table></div><div class=hide-print><div class=ancho-100><label for="">7. Añadir Comentarios, Notas</label><div class="ancho-100 margen-izq-1"><input type=button id=add-comments-b class="custom-button disable" value="Añadir comentarios" disabled /></div></div>
            
            <div id=comments-container class=no-visible>
                <table>
                    <tbody id=comments-table>
                        <tr>
                            <td>
                                <textarea name=comments-text id=comments-text cols="" rows=4></textarea></td></tr></tbody></table></div></div><div class=show-print><table><tbody id=footer-table><tr><td class=centrar colspan=3>Observaciones de la expedición / Shipping remarks</td></tr><tr><td class=blank-space colspan=3><p id=comments></p></td></tr><tr><td>Firma y sello Expedidor</td><td>Firma y sello Transportista</td><td>Firma y sello Destinatario</td></tr><tr><td class=blank-space-big></td><td class=blank-space-big></td><td class=blank-space-big></td></tr></tbody></table><div><p class=footer-page>Imprimir 3 copias: 1 Consignatario, 1 transportista y 1 receptor.</p></div></div></div><div><p class=version>Versión 1.3 - (https://github.com/perseo1326)</p></div><script>function Y(){}function J(n){const t=n.srcElement;console.log("Elemento: ",t);t.localName==="td"&&t.className.includes("isell")&&(t.classList.add("isell-focus"),t.id="isellFocus",isellCell=t,isellCell.addEventListener("focusout",()=>{console.log("focus out ",this)}))}function O(){console.log("Inicializando los valores por defecto de la página.");p=new FileReader;document.getElementById("upload-file-b").innerText="Subir archivo...";h=[];v={};b=new Date();a.valueAsDate=b;m.value="";P(null,"","","","");C(h);a.disabled=!0;a.classList.add("disable");c.disabled=!0;c.classList.add("disable");i.disabled=!0;i.classList.add("disable");n.disabled=!0;n.classList.add("disable");l.disabled=!0;l.classList.add("disable");u.disabled=!0;u.classList.add("disable");f.classList.add("no-visible");Q()}function S(n,t,i){const r=document.createElement("option");r.value=t;r.text=i;n.appendChild(r)}function N(n){n.options.length>0&&(n.remove(0),N(n))}function Q(){w(c);S(c,g.value,g.text);typeof e=="undefined"&&(console.log("No fue posible cargar la configuración inicial."),alert("No fue posible cargar la configuración inicial."));e.forEach(n=>{S(c,n.t,n.title)})}function R(n){return e.find(t=>t.t===n)}function X(){N(i);S(i,g.value,g.text);const n=R(this.value);n&&n.m.forEach(n=>{S(i,n.h,n.p)})}function k(n){const t=n.valueAsDate;return t?n.value:(console.log("La fecha seleccionada es inválida."),alert("La fecha seleccionada es inválida."),!1)}function Z(n){return n?n:(alert("No se ha seleccionado ningun archivo."),console.log("No se ha seleccionado ningun archivo."),null)}function $(n){console.clear();O();let t=n.target.files[0];(t=Z(t),t)&&(p.readAsText(t,"windows-1252"),document.getElementById("upload-file-b").innerText=t.name,p.onload=se)}function ee(n){let r=n.split("\n"),t=[],i=[];return r.forEach(n=>{t=n.split("\t"),i.push(t)}),i}function te(n){return n[0].trim()=="ISELL_ORDER_NUMBER"&&n[1].trim()=="PICK_ID"&&n[3].trim()=="ORDER_TYPE"&&n[5].trim()=="PACKAGES"&&n[6].trim()=="WEIGHT"&&n[7].trim()=="VOLUME"&&n[12].trim()=="PICK_AREA"&&n[38].trim()=="CUT_OFF_DATE"&&n[39].trim()=="CUT_OFF_TIME"&&n[42].trim()=="SERVICE_WINDOW"?!0:!1}function F(n,t){return n[n.length-1].length<t&&(n.pop(),F(n,t)),n}function ne(n){let t=[];return n.forEach(n=>{const i=[];i.push(n[0].trim());i.push(n[1].trim());i.push(n[5].trim());i.push(n[6].trim());i.push(n[7].trim());i.push(n[12].trim());i.push(n[13].trim());i.push(n[38].trim());i.push(n[39].trim());i.push(n[42].trim());t.push(i)}),t}function oe(n){return n.filter(n=>n[3].trim()==="PUP")}function se(){if(!p.result){O();console.log("El contenido del archivo no pudo ser leido.");alert("El contenido del archivo no pudo ser leido.");return}let t=ee(p.result);if(!te(t[0])){O();console.log("El archivo NO contiene información válida.");alert("El archivo NO contiene información válida.");return}t=F(t,t[0].length);t.shift();t=oe(t);h=ne(t);a.disabled=!1;a.classList.remove("disable");c.disabled=!1;c.classList.remove("disable");i.disabled=!1;i.classList.remove("disable");n.disabled=!1;n.classList.remove("disable")}function re(n){const t=new Map;return n.forEach(n=>{let i=new q(n[1],n[2],n[3],n[4],n[5],n[6]);if(t.has(n[0]))t.get(n[0]).I(i);else{let r=new z(n[0],n[7],n[8],n[9],i);t.set(n[0],r)}}),t}function ae(){const e=k(a);if(e){const n=R(c.value);if(!n){console.log("No se ha seleccionado un destino (CUT OFF TIME)");alert("No se ha seleccionado un destino (CUT OFF TIME)");return}const t=n.m.find(n=>n.h===i.value);if(!t){console.log('No se ha seleccionado un "Service Window" válido.');alert('No se ha seleccionado un "Service Window" válido.');return}v=t;let r=ce(h,e);r=ie(r,n.o);r=le(r,t.T);const o=re(r);o.forEach(function(n){n.U()});l.disabled=!1;l.classList.remove("disable");u.disabled=!1;u.classList.remove("disable");document.getElementById("resume").classList.remove("no-visible");const s=new Date(e);P(s,n.title,n.o,t.p,t.T);V.innerText=n.title+" - "+t.p;_(document.getElementById("sender-address"),n.i);_(document.getElementById("consignee-address"),n.l);_(document.getElementById("carrier-address"),n.u);m.value="";f.classList.add("no-visible");u.value="Añadir comentarios";C(o)}}function P(n,t,i,r,u){document.getElementById("resume-cut-off-date").innerText=n?n.toLocaleDateString():"";document.getElementById("resume-cut-off-time").innerText=t+" ("+i+")";document.getElementById("resume-service-window").innerText=r+" ("+u+")"}function ce(n,t){return n.filter(n=>n[7]===t)}function ie(n,t){return n.filter(n=>n[8]===t)}function le(n,t){return n.filter(n=>t.includes(n[9]))}function de(){o.style.display="flex";s.value="----------"}function ue(){const t=k(s);if(t){const n=new Date(t);document.getElementById("transport-document-number").innerText=v.v+n.toLocaleDateString()+v.g;document.getElementById("transport-document-loading-date").innerText=n.toLocaleDateString();document.getElementById("transport-document-receipt-date").innerText=n.toLocaleDateString();o.style.display="none";r.innerText=m.value;window.print()}}function _(n,t){w(n);const i=document.createElement("p"),r=document.createElement("strong");r.innerText=t[0];i.appendChild(r);n.appendChild(i);for(let i=1;i<t.length;i++){const u=t[i],r=document.createElement("p");r.innerText=u;n.appendChild(r)}}function w(n){n.childNodes.length>0&&(n.lastChild.remove(),w(n))}function G(n){return n*=100,n=Math.round(n),n/100}function fe(){r.innerText=m.value}function C(n){d.innerHTML="";let t="",i=1,r=0,u=0,f=0;console.log("Data en showContent ",n);n.forEach(n=>{const s=n.status===A?"warning-row":"";t+="<tr class='centrar "+s+"'>";t+="<td>";t+=i;t+="<\/td>";t+="<td class='isell' >";t+=n.R;t+="<\/td>";t+="<td class='container-column hide-print'>";t+="<p class='pick-id'>";t+=I(n.P.get("Markethall"));t+="<\/p>";let e=U(n.P.get("Markethall"));t+="<p class='pick-status ";t+=B(e)+"'>";t+=e;t+="<\/p>";t+="<\/td>";t+="<td class='container-column hide-print'>";t+="<p class='pick-id'>";t+=I(n.P.get("Self Serve"));t+="<\/p>";e=U(n.P.get("Self Serve"));t+="<p class='pick-status ";t+=B(e)+"'>";t+=e;t+="<\/p>";t+="<\/td>";t+="<td class='container-column hide-print'>";t+="<p class='pick-id'>";t+=I(n.P.get("Full Serve internal"));t+="<\/p>";e=U(n.P.get("Full Serve internal"));t+="<p class='pick-status ";t+=B(e)+"'>";t+=e;t+="<\/p>";t+="<\/td>";t+="<td>";let o=G(n._);r+=o;t+=o;t+="<\/td>";t+="<td>";o=G(n.G);u+=o;t+=o;t+="<\/td>";t+="<td>";o=G(n.C);f+=o;t+=o;t+="<\/td>";i++});t+="<tr class='centrar totales'>";t+="<td class='hide-print'><\/td>";t+="<td class='hide-print'><\/td>";t+="<td class='hide-print'><\/td>";t+="<td colspan='2'>Totales<\/td>";t+="<td>"+G(r)+" bultos<\/td>";t+="<td>"+G(u)+" Kgs<\/td>";t+="<td>"+G(f)+" m<sup>3<\/sup><\/td>";d.innerHTML+=t}function I(n){return n?n.O:"-"}function U(n){return n?n.N:"-"}function B(n){let t="";switch(n){case D:t="not-started";break;case T:t="started";break;case y:t="picking";break;case H:t="picked";break;case K:t="wait-for-merge";break;case W:t="check-started";break;case x:t="checked";break;case j:t="completed";break;case E:t="open-return";break;case A:t="returned";break;default:t=""}return t}function me(){}const e=[{t:"DIAGONAL",title:"Diagonal",o:"20:15",i:["IKEA Gran Via 406","Gran Via de l'Hospitalet 115-133","Hospitalet de Llobregat 08908","Barcelona, Espanya"],l:["PUP Travessera (PUPT-BCN)","C/ Travessera de Gracia 12","08012 - Barcelona (Barcelona)","Spain"],u:["ABIAN SERVICE","Tel: 931161444","Email: opsbarcelona@abianservice.com"],m:[{p:"Primera Furgo",h:"FURGO_ONE",v:"406PUPT-",g:"(Furgo 1)",T:["10:00-12:00","12:00-15:00"]},{p:"Segunda Furgo",h:"FURGO_TWO",v:"406PUPT-",g:"(Furgo 2)",T:["15:00-18:00"]},{p:"Tercera Furgo",h:"FURGO_THREE",v:"406PUPT-",g:"(Furgo 3)",T:["18:00-21:00"]}]},{t:"SANT_PERE",title:"Sant Pere",o:"20:00",i:["IKEA Gran Via 406","Gran Via de l'Hospitalet 115-133","Hospitalet de Llobregat 08908","Barcelona, Espanya"],l:["IKEA St Pere Planning Studio","Rambla del Garraf s/n, Parc d'Oci Les Roquetes Local 10-B2","El Mas d'en Serra, 08812","Barcelona, Espanya"],u:["SAMA Logística Aplicada SL","Gran Via de l'Hospitalet 115-133","Hospitalet de Llobregat 08908","Barcelona, Espanya"],m:[{p:"Primera Furgo",h:"FURGO_ONE",v:"406SP ",g:" SANT PERE (FURGO 1)",T:["10:00-13:00","13:00-16:00"]},{p:"Segunda Furgo",h:"FURGO_TWO",v:"406SP ",g:" SANT PERE (FURGO 2)",T:["16:00-19:00","19:00-21:00"]}]},{t:"TARRAGONA",title:"Taragona",o:"19:45",i:["IKEA Gran Via 406","Gran Via de l'Hospitalet 115-133","Hospitalet de Llobregat 08908","Barcelona, Espanya"],l:["IKEA Tarragona Planning Studio","Avenida Ramón y Cajal 155","Tarragona, 43005","Tarragona, Espanya"],u:["SAMA Logística Aplicada SL","Gran Via de l'Hospitalet 115-133","Hospitalet de Llobregat 08908","Barcelona, Espanya"],m:[{p:"Primera Furgo",h:"FURGO_ONE",v:"406TGN ",g:" FURGO 1",T:["10:00-13:00","13:00-17:00"]},{p:"Segunda Furgo",h:"FURGO_TWO",v:"406TGN ",g:" FURGO 2",T:["17:00-19:00","19:00-21:00"]}]}],t=document.getElementById("file-input"),a=document.getElementById("selected-date"),c=document.getElementById("destino-cut-off-time"),i=document.getElementById("service-window"),n=document.getElementById("process-data"),l=document.getElementById("print-documentation-b"),o=document.getElementById("panel"),V=document.getElementById("frame-destination"),s=document.getElementById("frame-shipping-date"),L=document.getElementById("frame-ok-b"),M=document.getElementById("frame-cancel-b"),d=document.getElementById("data-body"),u=document.getElementById("add-comments-b"),f=document.getElementById("comments-container"),m=document.getElementById("comments-text"),r=document.getElementById("comments");let p=new FileReader,h=[],v={},b="";const g={value:"",text:"Selecciona una opción..."},D="Not Started",T="Started",y="Picking",H="Picked",K="Wait for Merge",W="Check Started",x="Checked",j="Completed",E="Open Return",A="Returned";class q{constructor(n,t,i,r,u,f){this.A=u;this.O=n;this.S=Number(t.replace(",","."));this.weight=Number(i.replace(",","."));this.volume=Number(r.replace(",","."));this.N=f}}class z{constructor(n,t,i,r,u){this.R=n;this.k=t;this.o=i;this.F=r;this.P=new Map;this.P.set(u.A,u);this._=Number(0);this.G=Number(0);this.C=Number(0);this.status=T}I(n){if(this.P.has(n.A)){console.log("ERROR: picking task ya existente! ID = "+n.O);alert("ERROR: picking task ya existente! ID = "+n.O);return}this.P.set(n.A,n)}U(){(this._=0,this.G=0,this.C=0,this.B(),this.status!==A)&&this.P.forEach(n=>{this._+=n.S,this.G+=n.weight,this.C+=n.volume})}B(){this.P.forEach(n=>{(n.N===E||n.N===A)&&(this.status=A)})}}t.addEventListener("change",$);n.addEventListener("click",ae);l.addEventListener("click",de);c.addEventListener("change",X);L.addEventListener("click",ue);m.addEventListener("change",fe);u.addEventListener("click",()=>{f.classList.contains("no-visible")?(f.classList.remove("no-visible"),u.value="Ocultar comentarios"):(f.classList.add("no-visible"),u.value="Añadir comentarios"),m.focus(),console.log("elemento: ",m)});M.addEventListener("click",()=>{o.style.display="none"})</script></body></html>